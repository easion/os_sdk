
CC = @CC@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@
BINDIR = @BINDIR@

VPATH=.:os

OBJECTS = background.o border.o button.o client.o clientlist.o clock.o \
	color.o command.o confirm.o cursor.o debug.o desktop.o dock.o event.o \
   error.o font.o gradient.o group.o help.o hint.o icon.o image.o \
   key.o lex.o main.o match.o menu.o misc.o move.o outline.o pager.o \
   parse.o place.o popup.o render.o resize.o root.o screen.o status.o \
   swallow.o taskbar.o timing.o tray.o traybutton.o winmenu.o

EXE = jwm

.SUFFIXES: .o .h .c

all: $(EXE)

install: all
	strip $(EXE)
	install -d $(BINDIR)
	install $(EXE) $(BINDIR)/$(EXE)

depend:
	makedepend -m -DMAKE_DEPEND -- $(CFLAGS) -- *.c

$(EXE): $(OBJECTS)
	$(CC) -o $(EXE) $(OBJECTS) $(LDFLAGS)

.c.o:
	$(CC) -c $(CFLAGS) $<

clean:
	rm -f $(OBJECTS) $(EXE) core

